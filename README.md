---

# üá≠üá∫ **MAGYAR √öTMUTAT√ì**

---

# Pok√©mon NARC Sz√∂vegkezel≈ë Eszk√∂z üìùüéÆ

Egy sokoldal√∫ parancssori eszk√∂z a Pok√©mon Black, White, Black 2 √©s White 2 j√°t√©kokban haszn√°lt `NARC` arch√≠vumok sz√∂vegeinek export√°l√°s√°ra √©s import√°l√°s√°ra. Ez az eszk√∂z elengedhetetlen ROM-hackel√©si projektekhez, k√ºl√∂n√∂sen a rajong√≥i ford√≠t√°sokhoz.

Helyesen kezeli a j√°t√©kok √°ltal haszn√°lt egyedi XOR titkos√≠t√°st, biztos√≠tva, hogy a sz√∂vegek t√∂k√©letesen dek√≥dol√≥djanak √©s √∫jra k√≥dol√≥djanak, megel≈ëzve ezzel a hib√°s sz√∂vegek megjelen√©s√©t vagy a j√°t√©k √∂sszeoml√°s√°t.

## ‚ú® Funkci√≥k

-   **Kett≈ës Export M√≥d**: Export√°ld a sz√∂vegeket egyetlen, k√∂nnyen kezelhet≈ë `JSON` f√°jlba, vagy egyedi `.txt` f√°jlokk√©nt egy mappastrukt√∫r√°ba.
-   **Kett≈ës Import M√≥d**: Import√°ld vissza a leford√≠tott sz√∂vegeket egy `JSON` f√°jlb√≥l vagy egy `.txt` f√°jlokat tartalmaz√≥ mapp√°b√≥l.
-   **Helyes Titkos√≠t√°s**: Az 5. gener√°ci√≥s j√°t√©kokhoz sz√ºks√©ges, pontos XOR titkos√≠t√°si/dek√≥dol√°si algoritmust implement√°lja.
-   **Biztons√°gos √©s Megb√≠zhat√≥**: Ind√≠t√°skor √∂nellen≈ërz√©st v√©gez a kodek integrit√°s√°nak ellen≈ërz√©s√©re, megel≈ëzve a s√©r√ºlt NARC f√°jlok l√©trehoz√°s√°t.
-   **Felhaszn√°l√≥bar√°t Parancssor**: Vil√°gos parancssori strukt√∫ra, r√©szletes s√∫g√≥ men√ºkkel √©s p√©ld√°kkal.
-   **√ñn√°ll√≥**: Egyetlen Python szkript, k√ºls≈ë f√ºgg≈ës√©gek n√©lk√ºl.

## ‚öôÔ∏è K√∂vetelm√©nyek

-   Python 3.x

## üöÄ Telep√≠t√©s

Nincs sz√ºks√©g telep√≠t√©sre! Ez egy √∂n√°ll√≥ Python szkript.

1.  T√∂ltsd le a szkriptet (`pokemon-text-narc-export-import-tool-hu.py` a magyar verzi√≥hoz vagy `pokemon-text-narc-export-import-tool-en.py` az angolhoz).
2.  Mentsd el a projektmapp√°dba.
3.  Futtasd a termin√°lb√≥l.

## üìñ Hogyan haszn√°ld

Az eszk√∂z k√©t f≈ë parancs k√∂r√© √©p√ºl: `export` √©s `import`.

### Seg√≠ts√©g k√©r√©se

A parancsok √©s p√©ld√°k r√©szletes list√°j√°t b√°rmikor el√©rheted, ha a szkriptet parancs n√©lk√ºl vagy a `-h` kapcsol√≥val futtatod.

√Åltal√°nos s√∫g√≥
python pokemon-text-narc-export-import-tool-hu.py -h

Az 'export' parancs s√∫g√≥ja
python pokemon-text-narc-export-import-tool-hu.py export -h

Az 'import' parancs s√∫g√≥ja
python pokemon-text-narc-export-import-tool-hu.py import -h


### **1. L√©p√©s: Sz√∂vegek export√°l√°sa a NARC f√°jlb√≥l**

K√©t m√≥dszer √°ll rendelkez√©sedre a sz√∂vegek export√°l√°s√°ra.

#### **1. Munkamenet: JSON f√°jl haszn√°lata (Aj√°nlott)**

Ez a m√≥dszer az √∂sszes sz√∂veges bejegyz√©st egyetlen `.json` f√°jlba export√°lja. Ez a legtiszt√°bb m√≥dja a ford√≠t√°sok kezel√©s√©nek.

1.  **Futtasd az export parancsot:**
    ```
    python pokemon-text-narc-export-import-tool-hu.py export a003.narc -o szovegek.json
    ```
    -   `a003.narc` a bemeneti NARC f√°jlod.
    -   `szovegek.json` lesz a kimeneti f√°jl.

2.  **Ford√≠tsd le a sz√∂vegeket:**
    Nyisd meg a `szovegek.json` f√°jlt. A k√∂vetkez≈ëh√∂z hasonl√≥ strukt√∫r√°t fogsz l√°tni:
    ```
    {
      "entries": [
        {
          "entry_index": 0,
          "texts": [
            {
              "text_index": 0,
              "original_text": "Pikachu",
              "translated_text": "Pikachu"
            }
          ]
        }
      ]
    }
    ```
    **Fontos:** Csak a `"translated_text"` mez≈ë √©rt√©k√©t m√≥dos√≠tsd. Minden m√°st hagyj v√°ltozatlanul.

#### **2. Munkamenet: Egyedi `.txt` f√°jlok haszn√°lata**

Ez a m√≥dszer minden sz√∂veges bejegyz√©st saj√°t `.txt` f√°jlba export√°l egy mappastrukt√∫r√°n bel√ºl.

1.  **Futtasd az export parancsot:**
    ```
    python pokemon-text-narc-export-import-tool-hu.py export a003.narc -d szovegfajlok
    ```
    -   Ez l√©trehoz egy `szovegfajlok` nev≈± mapp√°t, benne egy `0000` almapp√°val, amely olyan f√°jlokat tartalmaz, mint `0001.txt`, `0002.txt`, stb.

2.  **Ford√≠tsd le a sz√∂vegeket:**
    Nyisd meg az egyes `.txt` f√°jlokat, √©s szerkeszd k√∂zvetlen√ºl a sz√∂veget.

### **2. L√©p√©s: Sz√∂vegek import√°l√°sa vissza a NARC f√°jlba**

Miut√°n a ford√≠t√°sok elk√©sz√ºltek, import√°lhatod ≈ëket vissza egy √∫j, m√≥dos√≠tott NARC f√°jl l√©trehoz√°s√°hoz.

#### **1. Munkamenet: Import√°l√°s JSON f√°jlb√≥l**

1.  **Futtasd az import parancsot:**
    ```
    python pokemon-text-narc-export-import-tool-hu.py import szovegek.json a003.narc uj_a003.narc
    ```
    -   `szovegek.json` a szerkesztett JSON f√°jlod.
    -   `a003.narc` az eredeti NARC f√°jl.
    -   `uj_a003.narc` a l√©trehozand√≥ √∫j, m√≥dos√≠tott NARC f√°jl neve.

#### **2. Munkamenet: Import√°l√°s `.txt` f√°jlokat tartalmaz√≥ mapp√°b√≥l**

1.  **Futtasd az import parancsot:**
    ```
    python pokemon-text-narc-export-import-tool-hu.py import szovegfajlok/ a003.narc uj_a003.narc
    ```
    -   `szovegfajlok/` az a mappa, amely a leford√≠tott `.txt` f√°jlokat tartalmazza.

Az `uj_a003.narc` f√°jlod k√©szen √°ll, hogy visszailleszd a j√°t√©k ROM-j√°ba!

## üîß Technikai R√©szletek: A XOR Titkos√≠t√°s

A Pok√©mon 5. gener√°ci√≥s j√°t√©kok egy speci√°lis, XOR-alap√∫ titkos√≠t√°st haszn√°lnak a sz√∂vegeik t√°rol√°s√°ra. Ez az eszk√∂z a pontos, visszafejtett algoritmust implement√°lja:
1.  Egy kezd≈ë kulcsot (`0x1234`) haszn√°l egy kulcssorozat gener√°l√°s√°hoz.
2.  A kulcssorozatot visszafel√© gener√°lja, egy `(key >> 3) | (key << 13)` bites eltol√°sos rot√°ci√≥val.
3.  Egy karakterl√°nc minden karakter√©t XOR-olja a sorozat megfelel≈ë kulcs√°val.
4.  A v√©g√©re egy kontroll karaktert (`0xFFFF ^ kezd≈ë_kulcs`) f≈±z.

Ez az eszk√∂z ezt a teljes folyamatot automatikusan kezeli, biztos√≠tva a t√∂k√©letes kompatibilit√°st a j√°t√©kmotorral.

‚ö°Ô∏è Egy √ºzenet a Pok√©monjaidt√≥l! ‚ö°Ô∏è
Eleged van a sz√∂vegekb≈ël, amik √∫gy n√©znek ki, mint egy Tangela gubancos frizur√°ja? Nek√ºnk is! Sz√≥val, elbesz√©lgett√ºnk egy kicsit az emberekkel.

Psyduck: "Psy-aj-aj?! F√°j a fejem... Az edz≈ëk egy √∫j t√∂rt√©netet pr√≥b√°lnak olvasni, de a szavak... pont √∫gy n√©znek ki, mint amilyen a fejf√°j√°som. Csupa t√ºske √©s furcsas√°g! Nem tudom, hogy a V√©gzeteset vagy a Farokcs√≥v√°l√°st kellene bevetnem!"

Meowth: "Fogd m√°r be, te k√©t l√°bon j√°r√≥ migr√©n! A gond nem veled van, hanem azokkal a vacak eszk√∂z√∂kkel, amiket az emberek haszn√°lnak! Annyit √©rnek, mint egy Magikarp a sz√°razf√∂ld√∂n. De Meowth-nak van egy tuti tippje, egy igazi gy√∂ngyszem: a Pok√©mon NARC Sz√∂vegkezel≈ë Eszk√∂z!

Ez nem ak√°rmilyen bigy√≥. Ismeri a titkos k√≥dot, a k√ºl√∂nleges k√©zfog√°st, az eg√©sz h√≥belevancot! Fogja azt a sok zagyvas√°got, √©s √∫jra olvashat√≥ szavakk√° alak√≠tja. Ez a tuti befut√≥, a macsk√°k... nos, egyszer≈±en szuper!"

Pikachu: "Pika-Pika! (Szuper egyszer≈± √©s biztons√°gos!) Mi magunk tesztelt√ºk!

Pika-Pi! (Export√°ld az √∂sszes j√°t√©ksz√∂veget!)

Chuuu! (Ford√≠tsd le b√°rmilyen nyelvre, amire csak akarod!)

Pikachu! (Import√°ld vissza, t√∂k√©letesen √©s csillog√≥an tiszt√°n, fura jelek n√©lk√ºl!)"

Meowth: "Ahogy a kis s√°rga sz≈ërm√≥k mondta! Ki√∂ntheted az √∂sszes sz√∂veget egy nagy JSON f√°jlba, vagy egy csom√≥ apr√≥ .txt f√°jlba. Ti√©d a v√°laszt√°s! Ez az eszk√∂z okosabb, mint egy Alakazam, aki a saj√°t kanalait pr√≥b√°lja megsz√°molni. Egyszer≈±en csak m≈±k√∂dik!"

Oak professzor: "Khm! √ögy t≈±nik, ezek a Pok√©monok igencsak lelkesek. √âs j√≥ okkal! Ez az eszk√∂z fantasztikus √°tt√∂r√©s minden felt√∂rekv≈ë ROM-hacker √©s rajong√≥i ford√≠t√≥ sz√°m√°ra. Kezeli a bonyolult sz√∂vegtitkos√≠t√°st, √≠gy ti a tartalom k√©sz√≠t√©s√©re koncentr√°lhattok.

A saj√°t Pok√©mon-kalandotok v√°r! T√∂lts√©tek le a Pok√©mon NARC Sz√∂vegkezel≈ë Eszk√∂zt, √©s kezdj√©tek el az utaz√°st m√©g ma!"


## ‚öñÔ∏è Licenc

Ez a projekt a MIT Licenc alatt √°ll.

---

#### 6Ô∏è‚É£ A projektr≈ël

> _Ez a projekt szinte teljes eg√©sz√©ben mesters√©ges intelligencia seg√≠ts√©g√©vel k√©sz√ºlt, de kellett hozz√° egy Droid is (vagyis √©n)!_

---


---

## üá¨üáß **ENGLISH GUIDE**

---

# Pok√©mon NARC Text Tool üìùüéÆ

A versatile command-line tool for exporting and importing text from `NARC` archives used in Pok√©mon Black, White, Black 2, and White 2. This tool is essential for ROM hacking projects, especially for fan translations.

It correctly handles the unique XOR encryption used by the games, ensuring that texts are decoded and re-encoded perfectly, preventing corrupted text or game crashes.

## ‚ú® Features

-   **Dual Export Modes**: Export texts into a single, easy-to-manage `JSON` file or as individual `.txt` files in a directory structure.
-   **Dual Import Modes**: Import your translated texts back from either a `JSON` file or a directory of `.txt` files.
-   **Correct Encryption**: Implements the exact XOR encryption/decryption algorithm required for Gen 5 games.
-   **Safe & Reliable**: Includes a self-test on startup to verify the integrity of the codec, preventing corrupted NARC files.
-   **User-Friendly CLI**: Features a clear command structure with detailed help menus and examples.
-   **Standalone**: A single Python script with no external dependencies.

## ‚öôÔ∏è Requirements

-   Python 3.x

## üöÄ Installation

No installation is required! This is a standalone Python script.

1.  Download the script (`pokemon-text-narc-export-import-tool-en.py` for English or `pokemon-text-narc-export-import-tool-hu.py` for Hungarian).
2.  Save it to your project folder.
3.  Run it from your terminal.

## üìñ How to Use

The tool operates using two main commands: `export` and `import`.

### Getting Help

You can get a detailed list of commands and examples at any time by running the script without a command or with the `-h` flag.

General help
python pokemon-text-narc-export-import-tool-en.py -h

Help for the 'export' command
python pokemon-text-narc-export-import-tool-en.py export -h

Help for the 'import' command
python pokemon-text-narc-export-import-tool-en.py import -h


### **Step 1: Exporting Texts from the NARC file**

You have two methods for exporting texts.

#### **Workflow 1: Using a JSON file (Recommended)**

This method exports all text entries into a single `.json` file. It's the cleanest way to manage translations.

1.  **Run the export command:**
    ```
    python pokemon-text-narc-export-import-tool-en.py export a003.narc -o texts.json
    ```
    -   `a003.narc` is your input NARC file.
    -   `texts.json` will be your output file.

2.  **Translate the texts:**
    Open `texts.json`. You will see a structure like this:
    ```
    {
      "entries": [
        {
          "entry_index": 0,
          "texts": [
            {
              "text_index": 0,
              "original_text": "Pikachu",
              "translated_text": "Pikachu"
            }
          ]
        }
      ]
    }
    ```
    **Important:** Only modify the value of the `"translated_text"` field. Leave everything else unchanged.

#### **Workflow 2: Using individual `.txt` files**

This method exports each text entry into its own `.txt` file within a directory structure.

1.  **Run the export command:**
    ```
    python pokemon-text-narc-export-import-tool-en.py export a003.narc -d text_files
    ```
    -   This will create a directory named `text_files` with a `0000` subdirectory containing files like `0001.txt`, `0002.txt`, etc.

2.  **Translate the texts:**
    Open each `.txt` file and edit the text directly.

### **Step 2: Importing Texts back into the NARC file**

Once your translations are complete, you can import them back to create a new, modified NARC file.

#### **Workflow 1: Importing from a JSON file**

1.  **Run the import command:**
    ```
    python pokemon-text-narc-export-import-tool-en.py import texts.json a003.narc new_a003.narc
    ```
    -   `texts.json` is your edited JSON file.
    -   `a003.narc` is the original NARC file.
    -   `new_a003.narc` is the name of the new, modified NARC file that will be created.

#### **Workflow 2: Importing from a directory of `.txt` files**

1.  **Run the import command:**
    ```
    python pokemon-text-narc-export-import-tool-en.py import text_files/ a003.narc new_a003.narc
    ```
    -   `text_files/` is the directory containing your translated `.txt` files.

Your `new_a003.narc` file is now ready to be inserted back into your game ROM!

## üîß Technical Details: The XOR Encryption

Pok√©mon Gen 5 games use a specific XOR-based encryption to store their text. This tool implements the exact reverse-engineered algorithm:
1.  A seed key (`0x1234`) is used to generate a sequence of keys.
2.  The key sequence is generated backwards, using a `(key >> 3) | (key << 13)` bit shift rotation.
3.  Each character in a string is XORed with its corresponding key in the sequence.
4.  A final control character (`0xFFFF ^ seed_key`) is appended to the end.

This tool handles this entire process automatically, ensuring perfect compatibility with the game engine.


‚ö°Ô∏è A Message From Your Pok√©mon! ‚ö°Ô∏è
Tired of text that looks like a Tangela's bad hair day? We were too! So we had a little chat with the humans.

Psyduck: "Psy-ay-ay?! My head hurts... The trainers are trying to read a new story, but the words... they look like my headache feels. All spiky and weird! I can't tell if I'm supposed to use Tackle or Tail Whip!"

Meowth: "Pipe down, ya walking migraine! The problem ain't you, it's the tools the humans are usin'! They're about as effective as a Magikarp on dry land. But Meowth's got the inside scoop on a real gem: the Pok√©mon NARC Text Tool!

This ain't no ordinary doohickey. It knows the secret code, the special handshake, the whole shebang! It takes all that garbled nonsense and turns it back into words you can actually read. It‚Äôs the top banana, the cat‚Äôs meow, the... well, it‚Äôs just really, really good!"

Pikachu: "Pika-Pika! (It's super easy and safe!) We tested it ourselves!

Pika-Pi! (Export all the game text!)

Chuuu! (Translate it into any language you want!)

Pikachu! (Import it back in, perfect and sparkly clean, with no weird symbols!)"

Meowth: "What the little yellow fella said! You can dump all the text into one big JSON file, or into lots of little .txt files. Your choice! This tool is smarter than an Alakazam trying to count its own spoons. It just works!"

Professor Oak: "Ahem! It seems these Pok√©mon are quite enthusiastic. And for good reason! This tool is a fantastic breakthrough for all you aspiring ROM hackers and fan translators out there. It handles the complex text encryption so you can focus on creating.

Your own Pok√©mon adventure is waiting! Download the Pok√©mon NARC Text Tool and start your journey today!"


## ‚öñÔ∏è License

This project is licensed under the MIT License.

---

#### 6Ô∏è‚É£ About this project

> _This project was almost entirely created with AI, but it still needed a Droid‚Äôs helping hand (that‚Äôs me)!_

---
